{"ast":null,"code":"import React,{useEffect,useState,useRef}from'react';import\"../css/styles.css\";import{motion,useScroll,useSpring,useTransform}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Parallax(value,distance){return useTransform(value,[0,1],[-distance,distance]);}function Charts(_ref){let{id}=_ref;const[iframes,setIframes]=useState([]);const ref=useRef(null);const{scrollYProgress}=useScroll({target:ref});const y=Parallax(scrollYProgress,300);const titles=[\"BS chart 1\",\"BS chart 2\"];const texts=[\"A lot of work for a non-UI/UX student\",\"Like seriously\"];// Fetch the iframe data when the component mounts\nuseEffect(()=>{fetch(\"/dashboards.json\").then(response=>response.json()).then(data=>{setIframes(data.embeds);console.log(data.embeds);}).catch(error=>{console.error(\"Error loading the dashboards json file: \",error);});},[]);return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(motion.h1,{children:titles[id-1]}),/*#__PURE__*/_jsx(\"div\",{ref:ref,children:iframes.length>0&&/*#__PURE__*/_jsx(\"div\",{// since we want to directly insert the embed code, we use the dangerouslySetInnerHTML to safely inject that HTML embed code into DOM\ndangerouslySetInnerHTML:{__html:iframes[id-1].embed_code}})}),/*#__PURE__*/_jsx(motion.h2,{style:{y},children:texts[id-1]})]});}export default function App(){const{scrollYProgress}=useScroll();const scaleX=useSpring(scrollYProgress,{stiffness:100,damping:30,restDelta:0.001});return/*#__PURE__*/_jsxs(_Fragment,{children:[[1,2,3,4,5,6,7,8].map(id=>/*#__PURE__*/_jsx(Charts,{id:id},id)),/*#__PURE__*/_jsx(motion.div,{className:\"progressBar\",style:{scaleX}})]});}","map":{"version":3,"names":["React","useEffect","useState","useRef","motion","useScroll","useSpring","useTransform","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Parallax","value","distance","Charts","_ref","id","iframes","setIframes","ref","scrollYProgress","target","y","titles","texts","fetch","then","response","json","data","embeds","console","log","catch","error","children","h1","length","dangerouslySetInnerHTML","__html","embed_code","h2","style","App","scaleX","stiffness","damping","restDelta","map","div","className"],"sources":["/Users/godfather/IdeaProjects/climate_data_visualization_project/climate_data_visualization_project/frontend/src/js/App.tsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport \"../css/styles.css\";\nimport { motion, useScroll, useSpring, useTransform, MotionValue } from 'framer-motion';\n\nfunction Parallax(value: MotionValue<number>, distance: number) {\n  return useTransform(value, [0, 1], [-distance, distance]);\n}\n\nfunction Charts({ id }: { id: number }) {\n  const [iframes, setIframes] = useState<Array<any>>([]);\n  const ref = useRef(null);\n  const { scrollYProgress } = useScroll({ target: ref });\n  const y = Parallax(scrollYProgress, 300);\n\n  const titles = [\"BS chart 1\", \"BS chart 2\"];\n  const texts = [\"A lot of work for a non-UI/UX student\", \"Like seriously\"];\n\n  // Fetch the iframe data when the component mounts\n  useEffect(() => {\n    fetch(\"/dashboards.json\")\n        .then(response => response.json())\n        .then(data => {\n          setIframes(data.embeds);\n          console.log(data.embeds);\n        })\n        .catch(error => {\n          console.error(\"Error loading the dashboards json file: \", error);\n        });\n  }, []);\n\n  return (\n      <section>\n        <motion.h1>{titles[id - 1]}</motion.h1>\n        <div ref={ref}>\n          {/* Render iframe only if the data is loaded */}\n          {iframes.length > 0 && (\n              <div\n                  // since we want to directly insert the embed code, we use the dangerouslySetInnerHTML to safely inject that HTML embed code into DOM\n                  dangerouslySetInnerHTML={{ __html: iframes[id - 1].embed_code }}\n              />\n          )}\n        </div>\n        <motion.h2 style={{ y }}>{texts[id - 1]}</motion.h2>\n      </section>\n  );\n}\n\nexport default function App() {\n  const { scrollYProgress } = useScroll();\n  const scaleX = useSpring(scrollYProgress, {\n    stiffness: 100,\n    damping: 30,\n    restDelta: 0.001\n  });\n\n  return (\n      <>\n        {[1, 2, 3, 4, 5, 6, 7, 8].map((id) => (\n            <Charts key={id} id={id}/>\n        ))}\n        <motion.div className=\"progressBar\" style={{ scaleX }} />\n      </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}